<div class="container">

  <div *ngIf="loading"
       class="d-flex justify-content-center">
    <div class="spinner-border"
         role="status">
      <span class="sr-only"
            id="loading">
      </span>
    </div>
  </div>

  <div *ngIf="geolocation$ | async as geolocation">
    <ul *ngIf="!loading">
      <div class="horizontal"></div>
      <li class="horizontal">
        <h2>IP Address</h2>
        <p>{{geolocation.ip_address}}</p>
      </li>
      <div class="separator"></div>
      <li class="horizontal vertical">
        <h2>Location</h2>
        <p>{{geolocation.city || geolocation.country}}, {{geolocation.region_iso_code || geolocation.continent}}
          {{geolocation.postal_code || ''}}</p>
      </li>
      <div class="separator"></div>
      <li>
        <h2>Timezone</h2>
        <p>{{geolocation.timezone.abbreviation}} {{this.formatTimezone(geolocation.timezone.gmt_offset)}}:00</p>
      </li>
      <div class="separator"></div>
      <li class="vertical">
        <h2> ISP</h2>
        <p>{{geolocation.connection.isp_name}}</p>
      </li>
    </ul>
  </div>
</div>

<app-map></app-map>
